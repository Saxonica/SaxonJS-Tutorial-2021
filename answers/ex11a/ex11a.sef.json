{"N":"package","version":"30","packageVersion":"1","saxonVersion":"SaxonJS 2.6","target":"JS","targetVersion":"2","name":"TOP-LEVEL","relocatable":"false","buildDateTime":"2024-07-15T09:24:15.64+01:00","ns":"xml=~ xsl=~ =http://www.w3.org/1999/xhtml ixsl=~ array=~ h=http://www.w3.org/1999/xhtml js=~ map=~ saxon=~ xs=~","C":[{"N":"co","id":"0","uniform":"true","binds":"3 2 1","C":[{"N":"template","flags":"os","module":"ex11a.xsl","slots":"200","baseUri":"file:///Volumes/Saxonica/src/examples/SaxonJS-Tutorial-2021/answers/ex11a/ex11a.xsl","name":"Q{http://www.w3.org/1999/XSL/Transform}initial-template","line":"21","expand-text":"false","sType":"* ","C":[{"N":"sequence","role":"body","sType":"* ","C":[{"N":"resultDoc","sType":"0 ","line":"22","local":"method=Q{http://saxonica.com/ns/interactiveXSLT}replace-content\n","global":"encoding=utf-8\nhtml-version=5\nmethod=html\nindent=no\n","C":[{"N":"str","sType":"1AS ","val":"#main","role":"href"},{"N":"applyT","sType":"* ","line":"23","mode":"#unnamed","role":"content","bSlot":"0","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"23","C":[{"N":"slash","op":"/","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ ixsl=~ array=~ h=http://www.w3.org/1999/xhtml js=~ map=~ saxon=~ xs=~ ","C":[{"N":"ifCall","name":"Q{http://saxonica.com/ns/interactiveXSLT}page"},{"N":"axis","name":"descendant","nodeTest":"*NE u[NE nQ{}main,NE nQ{http://www.w3.org/1999/xhtml}main]"}]}]}]}]},{"N":"choose","sType":"0 ","line":"28","C":[{"N":"docOrder","sType":"*NE","line":"28","C":[{"N":"docOrder","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ ixsl=~ array=~ h=http://www.w3.org/1999/xhtml js=~ map=~ saxon=~ xs=~ ","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"ifCall","name":"Q{http://saxonica.com/ns/interactiveXSLT}page"},{"N":"axis","name":"descendant-or-self","nodeTest":"*N"}]},{"N":"filter","C":[{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}div,NE nQ{http://www.w3.org/1999/xhtml}div]"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"attVal","name":"Q{}id"},{"N":"str","val":"categories"}]}]}]}]}]},{"N":"ifCall","name":"Q{http://saxonica.com/ns/interactiveXSLT}schedule-action","sType":"0","line":"29","C":[{"N":"int","val":"0","sType":"1ADI","ns":"= xml=~ fn=~ xsl=~ ixsl=~ array=~ h=http://www.w3.org/1999/xhtml js=~ map=~ saxon=~ xs=~ ","line":"29"},{"N":"fn","name":"string-join","sType":"1AS ","C":[{"N":"convert","type":"AS*","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","sType":"1AS","C":[{"N":"gVarRef","name":"Q{}CATEGORIES","bSlot":"1","sType":"1AS","line":"29"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]},{"N":"callT","bSlot":"2","sType":"* ","name":"Q{}select-category","line":"30"}]},{"N":"true"},{"N":"empty","sType":"0 "}]}]}]}]},{"N":"co","id":"1","uniform":"true","binds":"2","C":[{"N":"template","flags":"os","module":"ex11a.xsl","slots":"200","baseUri":"file:///Volumes/Saxonica/src/examples/SaxonJS-Tutorial-2021/answers/ex11a/ex11a.xsl","name":"Q{}select-category","line":"47","expand-text":"false","sType":"* ","C":[{"N":"let","var":"Q{}json","slot":"0","sType":"* ","line":"51","role":"body","C":[{"N":"choose","sType":"?","ns":"= xml=~ fn=~ xsl=~ ixsl=~ array=~ h=http://www.w3.org/1999/xhtml js=~ map=~ saxon=~ xs=~ ","role":"select","line":"51","C":[{"N":"fn","name":"unparsed-text-available","C":[{"N":"gVarRef","name":"Q{}CATEGORIES","bSlot":"0"}]},{"N":"fn","name":"json-doc","C":[{"N":"gVarRef","name":"Q{}CATEGORIES","bSlot":"0"}]},{"N":"true"},{"N":"ifCall","name":"Q{http://www.w3.org/2005/xpath-functions/map}_new"}]},{"N":"resultDoc","sType":"0 ","line":"53","local":"","global":"encoding=utf-8\nhtml-version=5\nmethod=html\nindent=no\n","C":[{"N":"str","sType":"1AS ","val":"#categories","role":"href"},{"N":"sequence","role":"content","sType":"*NE ","C":[{"N":"elem","name":"p","sType":"1NE nQ{http://www.w3.org/1999/xhtml}p ","nsuri":"http://www.w3.org/1999/xhtml","namespaces":"","line":"54","C":[{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"Select a category:"}]}]},{"N":"elem","name":"ul","sType":"1NE nQ{http://www.w3.org/1999/xhtml}ul ","nsuri":"http://www.w3.org/1999/xhtml","namespaces":"","line":"55","C":[{"N":"forEach","sType":"*NE nQ{http://www.w3.org/1999/xhtml}li ","line":"56","C":[{"N":"ifCall","name":"Q{http://www.w3.org/2005/xpath-functions/map}keys","sType":"*A","ns":"= xml=~ fn=~ xsl=~ ixsl=~ array=~ h=http://www.w3.org/1999/xhtml js=~ map=~ saxon=~ xs=~ ","role":"select","line":"56","C":[{"N":"treat","as":"FM","diag":"0|0||map:keys","C":[{"N":"check","card":"1","diag":"0|0||map:keys","C":[{"N":"varRef","name":"Q{}json","slot":"0"}]}]}]},{"N":"elem","name":"li","sType":"1NE nQ{http://www.w3.org/1999/xhtml}li ","nsuri":"http://www.w3.org/1999/xhtml","namespaces":"","line":"57","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"class","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"category"}]},{"N":"att","name":"id","nsuri":"","sType":"1NA ","C":[{"N":"fn","name":"string-join","sType":"1AS ","C":[{"N":"convert","type":"AS*","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","sType":"1A","C":[{"N":"dot","sType":"1A","ns":"= xml=~ fn=~ xsl=~ ixsl=~ array=~ h=http://www.w3.org/1999/xhtml js=~ map=~ saxon=~ xs=~ ","line":"57"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"elem","name":"a","sType":"1NE nQ{http://www.w3.org/1999/xhtml}a ","nsuri":"http://www.w3.org/1999/xhtml","namespaces":"","line":"58","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"href","nsuri":"","sType":"1NA ","C":[{"N":"fn","name":"concat","sType":"1AS ","C":[{"N":"str","sType":"1AS ","val":"#"},{"N":"fn","name":"string-join","sType":"1AS ","C":[{"N":"convert","type":"AS*","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","sType":"1A","C":[{"N":"dot","sType":"1A","ns":"= xml=~ fn=~ xsl=~ ixsl=~ array=~ h=http://www.w3.org/1999/xhtml js=~ map=~ saxon=~ xs=~ ","line":"58"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]},{"N":"str","sType":"1AS ","val":""}]}]},{"N":"valueOf","flags":"l","sType":"1NT ","line":"59","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"dot","sType":"1A","ns":"= xml=~ fn=~ xsl=~ ixsl=~ array=~ h=http://www.w3.org/1999/xhtml js=~ map=~ saxon=~ xs=~ ","role":"select","line":"59"}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]},{"N":"str","sType":"1AS ","val":" "}]}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"co","binds":"","id":"2","vis":"PUBLIC","ex:uniform":"true","C":[{"N":"globalVariable","name":"Q{}CATEGORIES","ns":"xml=~ xsl=~ =http://www.w3.org/1999/xhtml ixsl=~ array=~ h=http://www.w3.org/1999/xhtml js=~ map=~ saxon=~ xs=~","module":"ex11a.xsl","slots":"200","sType":"1AS","baseUri":"file:///Volumes/Saxonica/src/examples/SaxonJS-Tutorial-2021/answers/ex11a/ex11a.xsl","C":[{"N":"str","val":"http://localhost:9000/recipes/categories.json","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ ixsl=~ array=~ h=http://www.w3.org/1999/xhtml js=~ map=~ saxon=~ xs=~ ","role":"select","line":"19"}]}]},{"N":"co","id":"3","binds":"3","C":[{"N":"mode","onNo":"SC","flags":"","patternSlots":"0","prec":"","C":[{"N":"templateRule","rank":"0","prec":"0","seq":"1","ns":"xml=~ xsl=~ =http://www.w3.org/1999/xhtml ixsl=~ array=~ h=http://www.w3.org/1999/xhtml js=~ map=~ saxon=~ xs=~","minImp":"0","flags":"s","slots":"200","baseUri":"file:///Volumes/Saxonica/src/examples/SaxonJS-Tutorial-2021/answers/ex11a/ex11a.xsl","line":"40","module":"ex11a.xsl","expand-text":"false","match":"div[@id='categories']","prio":"0.5","matches":"NE u[NE nQ{}div,NE nQ{http://www.w3.org/1999/xhtml}div]","C":[{"N":"p.withPredicate","role":"match","sType":"1NE u[NE nQ{}div,NE nQ{http://www.w3.org/1999/xhtml}div]","ns":"= xml=~ fn=~ xsl=~ ixsl=~ array=~ h=http://www.w3.org/1999/xhtml js=~ map=~ saxon=~ xs=~ ","C":[{"N":"p.nodeTest","test":"NE u[NE nQ{}div,NE nQ{http://www.w3.org/1999/xhtml}div]"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"attVal","name":"Q{}id"},{"N":"str","val":"categories"}]}]},{"N":"copy","sType":"1NE u[1NE nQ{}div ,1NE nQ{http://www.w3.org/1999/xhtml}div ] ","flags":"cin","role":"action","line":"41","C":[{"N":"sequence","sType":"* ","C":[{"N":"applyT","sType":"* ","line":"42","mode":"#unnamed","bSlot":"0","C":[{"N":"axis","name":"attribute","nodeTest":"*NA","sType":"*NA","ns":"= xml=~ fn=~ xsl=~ ixsl=~ array=~ h=http://www.w3.org/1999/xhtml js=~ map=~ saxon=~ xs=~ ","role":"select","line":"42"}]},{"N":"elem","name":"h2","sType":"1NE nQ{http://www.w3.org/1999/xhtml}h2 ","nsuri":"http://www.w3.org/1999/xhtml","namespaces":"","line":"43","C":[{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"Recipe categories"}]}]}]}]}]},{"N":"templateRule","rank":"1","prec":"0","seq":"0","ns":"xml=~ xsl=~ =http://www.w3.org/1999/xhtml ixsl=~ array=~ h=http://www.w3.org/1999/xhtml js=~ map=~ saxon=~ xs=~","minImp":"0","flags":"s","slots":"200","baseUri":"file:///Volumes/Saxonica/src/examples/SaxonJS-Tutorial-2021/answers/ex11a/ex11a.xsl","line":"35","module":"ex11a.xsl","expand-text":"false","match":"main","prio":"0","matches":"NE u[NE nQ{}main,NE nQ{http://www.w3.org/1999/xhtml}main]","C":[{"N":"p.nodeTest","role":"match","test":"NE u[NE nQ{}main,NE nQ{http://www.w3.org/1999/xhtml}main]","sType":"1NE u[NE nQ{}main,NE nQ{http://www.w3.org/1999/xhtml}main]","ns":"= xml=~ fn=~ xsl=~ ixsl=~ array=~ h=http://www.w3.org/1999/xhtml js=~ map=~ saxon=~ xs=~ "},{"N":"sequence","role":"action","sType":"* ","C":[{"N":"elem","name":"h1","sType":"1NE nQ{http://www.w3.org/1999/xhtml}h1 ","nsuri":"http://www.w3.org/1999/xhtml","namespaces":"","line":"36","C":[{"N":"fn","name":"string","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ ixsl=~ array=~ h=http://www.w3.org/1999/xhtml js=~ map=~ saxon=~ xs=~ ","role":"select","line":"3","C":[{"N":"check","card":"?","diag":"0|0||string","C":[{"N":"docOrder","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"root"},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}html,NE nQ{http://www.w3.org/1999/xhtml}html]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}head,NE nQ{http://www.w3.org/1999/xhtml}head]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}title,NE nQ{http://www.w3.org/1999/xhtml}title]"}]}]}]}]}]},{"N":"applyT","sType":"* ","line":"37","mode":"#unnamed","bSlot":"0","C":[{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]","sType":"*N u[NT,NP,NC,NE]","ns":"= xml=~ fn=~ xsl=~ ixsl=~ array=~ h=http://www.w3.org/1999/xhtml js=~ map=~ saxon=~ xs=~ ","role":"select","line":"37"}]}]}]}]}]},{"N":"overridden"},{"N":"output","C":[{"N":"property","name":"Q{http://saxon.sf.net/}stylesheet-version","value":"30"},{"N":"property","name":"method","value":"html"},{"N":"property","name":"html-version","value":"5"},{"N":"property","name":"encoding","value":"utf-8"},{"N":"property","name":"indent","value":"no"}]},{"N":"decimalFormat"}],"Σ":"6c485fef"}