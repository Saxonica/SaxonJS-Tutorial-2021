{"N":"package","version":"30","packageVersion":"1","saxonVersion":"SaxonJS 2.6","target":"JS","targetVersion":"2","name":"TOP-LEVEL","relocatable":"false","buildDateTime":"2024-07-15T09:24:08.003+01:00","ns":"xml=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ =http://www.w3.org/1999/xhtml map=~ f=https://nwalsh.com/ns/functions","C":[{"N":"co","id":"0","uniform":"true","binds":"5 4 1","C":[{"N":"template","flags":"os","module":"ex13.xsl","slots":"200","baseUri":"file:///Volumes/Saxonica/src/examples/SaxonJS-Tutorial-2021/answers/ex13/ex13.xsl","name":"Q{http://www.w3.org/1999/XSL/Transform}initial-template","line":"23","expand-text":"false","sType":"* ","C":[{"N":"sequence","role":"body","sType":"* ","C":[{"N":"resultDoc","sType":"0 ","line":"24","local":"method=Q{http://saxonica.com/ns/interactiveXSLT}replace-content\n","global":"encoding=utf-8\nhtml-version=5\nmethod=html\nindent=no\n","C":[{"N":"str","sType":"1AS ","val":"#main","role":"href"},{"N":"applyT","sType":"* ","line":"25","mode":"#unnamed","role":"content","bSlot":"0","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"25","C":[{"N":"slash","op":"/","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","C":[{"N":"ifCall","name":"Q{http://saxonica.com/ns/interactiveXSLT}page"},{"N":"axis","name":"descendant","nodeTest":"*NE u[NE nQ{}main,NE nQ{http://www.w3.org/1999/xhtml}main]"}]}]}]}]},{"N":"ifCall","name":"Q{http://saxonica.com/ns/interactiveXSLT}schedule-action","sType":"0","line":"28","C":[{"N":"int","val":"0","sType":"1ADI","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","line":"28"},{"N":"fn","name":"string-join","sType":"1AS ","C":[{"N":"convert","type":"AS*","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","sType":"1AS","C":[{"N":"gVarRef","name":"Q{}CONVERT","bSlot":"1","sType":"1AS","line":"28"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]},{"N":"callT","bSlot":"2","sType":"* ","name":"Q{}interactive","line":"29"}]}]}]}]},{"N":"co","id":"1","uniform":"true","binds":"6","C":[{"N":"template","flags":"os","module":"ex13.xsl","slots":"200","baseUri":"file:///Volumes/Saxonica/src/examples/SaxonJS-Tutorial-2021/answers/ex13/ex13.xsl","name":"Q{}interactive","line":"38","expand-text":"false","sType":"0 ","C":[{"N":"resultDoc","sType":"0 ","role":"body","line":"39","local":"method=Q{http://saxonica.com/ns/interactiveXSLT}replace-content\n","global":"encoding=utf-8\nhtml-version=5\nmethod=html\nindent=no\n","C":[{"N":"str","sType":"1AS ","val":"#serves","role":"href"},{"N":"applyT","sType":"* ","line":"41","mode":"Q{}interactive","role":"content","bSlot":"0","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"41","C":[{"N":"docOrder","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"ifCall","name":"Q{http://saxonica.com/ns/interactiveXSLT}page"},{"N":"axis","name":"descendant-or-self","nodeTest":"*N"}]},{"N":"filter","C":[{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}span,NE nQ{http://www.w3.org/1999/xhtml}span]"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"attVal","name":"Q{}id"},{"N":"str","val":"serves"}]}]}]}]}]}]}]}]}]},{"N":"co","binds":"","id":"2","uniform":"true","C":[{"N":"template","flags":"os","module":"utils.xsl","slots":"200","baseUri":"file:///Volumes/Saxonica/src/examples/SaxonJS-Tutorial-2021/lib/utils.xsl","name":"Q{}prettyprint-quantity","line":"7","ns":"xml=~ xsl=~ xs=~","expand-text":"false","sType":"* ","C":[{"N":"sequence","role":"body","sType":"* ","C":[{"N":"param","name":"Q{}decimal","slot":"0","sType":"AO ","as":"AO ","flags":"r","line":"8","C":[{"N":"check","card":"1","sType":"1AO ","diag":"2|0|XTTE0570|xsl:param name=\"Q{}decimal\"","role":"select","C":[{"N":"convert","to":"AO","sType":"1AO ","diag":"2|0|XTTE0570|xsl:param name=\"Q{}decimal\"","flags":"p","role":"select","C":[{"N":"cvUntyped","to":"AO","sType":"*A ","diag":"2|0|XTTE0570|xsl:param name=\"Q{}decimal\"","role":"select","C":[{"N":"data","sType":"*A ","role":"select","C":[{"N":"empty","sType":"0 ","role":"select"}]}]}]}]},{"N":"check","card":"1","sType":"1AO ","diag":"2|1|XTTE0590|xsl:param name=\"Q{}decimal\"","role":"conversion","C":[{"N":"convert","to":"AO","sType":"1AO ","diag":"2|1|XTTE0590|xsl:param name=\"Q{}decimal\"","flags":"p","role":"conversion","C":[{"N":"cvUntyped","to":"AO","sType":"*A ","diag":"2|1|XTTE0590|xsl:param name=\"Q{}decimal\"","role":"conversion","C":[{"N":"data","sType":"*A ","role":"conversion","C":[{"N":"supplied","role":"conversion","slot":"0","sType":"* "}]}]}]}]}]},{"N":"let","var":"Q{}q","slot":"1","sType":"* ","line":"10","C":[{"N":"fn","name":"format-number","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ xs=~ ","role":"select","line":"10","C":[{"N":"treat","as":"A m[AO,AD,AF]","diag":"0|0||format-number","C":[{"N":"check","card":"?","diag":"0|0||format-number","C":[{"N":"cvUntyped","to":"AO","diag":"0|0||format-number","C":[{"N":"check","card":"?","diag":"0|0||format-number","C":[{"N":"data","diag":"0|0||format-number","C":[{"N":"varRef","name":"Q{}decimal","slot":"0"}]}]}]}]}]},{"N":"str","val":"#.000"}]},{"N":"let","var":"Q{}whole","slot":"2","sType":"* ","line":"11","C":[{"N":"fn","name":"substring-before","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ xs=~ ","role":"select","line":"11","C":[{"N":"treat","as":"AS","diag":"0|0||substring-before","C":[{"N":"check","card":"?","diag":"0|0||substring-before","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||substring-before","C":[{"N":"check","card":"?","diag":"0|0||substring-before","C":[{"N":"data","diag":"0|0||substring-before","C":[{"N":"varRef","name":"Q{}q","slot":"1"}]}]}]}]}]},{"N":"str","val":"."},{"N":"str","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint"}]},{"N":"let","var":"Q{}frac","slot":"3","sType":"* ","line":"12","C":[{"N":"fn","name":"substring-after","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ xs=~ ","role":"select","line":"12","C":[{"N":"treat","as":"AS","diag":"0|0||substring-after","C":[{"N":"check","card":"?","diag":"0|0||substring-after","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||substring-after","C":[{"N":"check","card":"?","diag":"0|0||substring-after","C":[{"N":"data","diag":"0|0||substring-after","C":[{"N":"varRef","name":"Q{}q","slot":"1"}]}]}]}]}]},{"N":"str","val":"."},{"N":"str","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint"}]},{"N":"choose","sType":"* ","type":"item()*","line":"14","C":[{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ xs=~ ","line":"15","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}frac","slot":"3"}]},{"N":"str","val":"000"}]},{"N":"varRef","name":"Q{}whole","slot":"2","sType":"*","ns":"= xml=~ fn=~ xsl=~ xs=~ ","role":"select","line":"16"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ xs=~ ","line":"18","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}frac","slot":"3"}]},{"N":"str","val":"100"}]},{"N":"fn","name":"concat","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ xs=~ ","role":"select","line":"19","C":[{"N":"check","card":"?","diag":"undefined|0||concat","C":[{"N":"data","diag":"undefined|0||concat","C":[{"N":"varRef","name":"Q{}whole","slot":"2"}]}]},{"N":"str","val":" ⅒"}]},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ xs=~ ","line":"21","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}frac","slot":"3"}]},{"N":"str","val":"111"}]},{"N":"fn","name":"concat","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ xs=~ ","role":"select","line":"22","C":[{"N":"check","card":"?","diag":"undefined|0||concat","C":[{"N":"data","diag":"undefined|0||concat","C":[{"N":"varRef","name":"Q{}whole","slot":"2"}]}]},{"N":"str","val":" ⅑"}]},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ xs=~ ","line":"24","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}frac","slot":"3"}]},{"N":"str","val":"125"}]},{"N":"fn","name":"concat","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ xs=~ ","role":"select","line":"25","C":[{"N":"check","card":"?","diag":"undefined|0||concat","C":[{"N":"data","diag":"undefined|0||concat","C":[{"N":"varRef","name":"Q{}whole","slot":"2"}]}]},{"N":"str","val":" ⅛"}]},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ xs=~ ","line":"27","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}frac","slot":"3"}]},{"N":"str","val":"143"}]},{"N":"fn","name":"concat","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ xs=~ ","role":"select","line":"28","C":[{"N":"check","card":"?","diag":"undefined|0||concat","C":[{"N":"data","diag":"undefined|0||concat","C":[{"N":"varRef","name":"Q{}whole","slot":"2"}]}]},{"N":"str","val":" ⅐"}]},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ xs=~ ","line":"30","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}frac","slot":"3"}]},{"N":"str","val":"167"}]},{"N":"fn","name":"concat","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ xs=~ ","role":"select","line":"31","C":[{"N":"check","card":"?","diag":"undefined|0||concat","C":[{"N":"data","diag":"undefined|0||concat","C":[{"N":"varRef","name":"Q{}whole","slot":"2"}]}]},{"N":"str","val":" ⅙"}]},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ xs=~ ","line":"33","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}frac","slot":"3"}]},{"N":"str","val":"200"}]},{"N":"fn","name":"concat","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ xs=~ ","role":"select","line":"34","C":[{"N":"check","card":"?","diag":"undefined|0||concat","C":[{"N":"data","diag":"undefined|0||concat","C":[{"N":"varRef","name":"Q{}whole","slot":"2"}]}]},{"N":"str","val":" ⅕"}]},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ xs=~ ","line":"36","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}frac","slot":"3"}]},{"N":"str","val":"250"}]},{"N":"fn","name":"concat","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ xs=~ ","role":"select","line":"37","C":[{"N":"check","card":"?","diag":"undefined|0||concat","C":[{"N":"data","diag":"undefined|0||concat","C":[{"N":"varRef","name":"Q{}whole","slot":"2"}]}]},{"N":"str","val":" ¼"}]},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ xs=~ ","line":"39","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}frac","slot":"3"}]},{"N":"str","val":"375"}]},{"N":"fn","name":"concat","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ xs=~ ","role":"select","line":"40","C":[{"N":"check","card":"?","diag":"undefined|0||concat","C":[{"N":"data","diag":"undefined|0||concat","C":[{"N":"varRef","name":"Q{}whole","slot":"2"}]}]},{"N":"str","val":" ⅜"}]},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ xs=~ ","line":"42","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}frac","slot":"3"}]},{"N":"str","val":"333"}]},{"N":"fn","name":"concat","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ xs=~ ","role":"select","line":"43","C":[{"N":"check","card":"?","diag":"undefined|0||concat","C":[{"N":"data","diag":"undefined|0||concat","C":[{"N":"varRef","name":"Q{}whole","slot":"2"}]}]},{"N":"str","val":" ⅓"}]},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ xs=~ ","line":"45","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}frac","slot":"3"}]},{"N":"str","val":"400"}]},{"N":"fn","name":"concat","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ xs=~ ","role":"select","line":"46","C":[{"N":"check","card":"?","diag":"undefined|0||concat","C":[{"N":"data","diag":"undefined|0||concat","C":[{"N":"varRef","name":"Q{}whole","slot":"2"}]}]},{"N":"str","val":" ⅖"}]},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ xs=~ ","line":"48","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}frac","slot":"3"}]},{"N":"str","val":"500"}]},{"N":"fn","name":"concat","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ xs=~ ","role":"select","line":"49","C":[{"N":"check","card":"?","diag":"undefined|0||concat","C":[{"N":"data","diag":"undefined|0||concat","C":[{"N":"varRef","name":"Q{}whole","slot":"2"}]}]},{"N":"str","val":" ½"}]},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ xs=~ ","line":"51","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}frac","slot":"3"}]},{"N":"str","val":"600"}]},{"N":"fn","name":"concat","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ xs=~ ","role":"select","line":"52","C":[{"N":"check","card":"?","diag":"undefined|0||concat","C":[{"N":"data","diag":"undefined|0||concat","C":[{"N":"varRef","name":"Q{}whole","slot":"2"}]}]},{"N":"str","val":" ⅗"}]},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ xs=~ ","line":"54","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}frac","slot":"3"}]},{"N":"str","val":"625"}]},{"N":"fn","name":"concat","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ xs=~ ","role":"select","line":"55","C":[{"N":"check","card":"?","diag":"undefined|0||concat","C":[{"N":"data","diag":"undefined|0||concat","C":[{"N":"varRef","name":"Q{}whole","slot":"2"}]}]},{"N":"str","val":" ⅝"}]},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ xs=~ ","line":"57","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}frac","slot":"3"}]},{"N":"str","val":"667"}]},{"N":"fn","name":"concat","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ xs=~ ","role":"select","line":"58","C":[{"N":"check","card":"?","diag":"undefined|0||concat","C":[{"N":"data","diag":"undefined|0||concat","C":[{"N":"varRef","name":"Q{}whole","slot":"2"}]}]},{"N":"str","val":" ⅔"}]},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ xs=~ ","line":"60","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}frac","slot":"3"}]},{"N":"str","val":"750"}]},{"N":"fn","name":"concat","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ xs=~ ","role":"select","line":"61","C":[{"N":"check","card":"?","diag":"undefined|0||concat","C":[{"N":"data","diag":"undefined|0||concat","C":[{"N":"varRef","name":"Q{}whole","slot":"2"}]}]},{"N":"str","val":" ¾"}]},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ xs=~ ","line":"63","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}frac","slot":"3"}]},{"N":"str","val":"800"}]},{"N":"fn","name":"concat","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ xs=~ ","role":"select","line":"64","C":[{"N":"check","card":"?","diag":"undefined|0||concat","C":[{"N":"data","diag":"undefined|0||concat","C":[{"N":"varRef","name":"Q{}whole","slot":"2"}]}]},{"N":"str","val":" ⅘"}]},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ xs=~ ","line":"66","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}frac","slot":"3"}]},{"N":"str","val":"833"}]},{"N":"fn","name":"concat","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ xs=~ ","role":"select","line":"67","C":[{"N":"check","card":"?","diag":"undefined|0||concat","C":[{"N":"data","diag":"undefined|0||concat","C":[{"N":"varRef","name":"Q{}whole","slot":"2"}]}]},{"N":"str","val":" ⅚"}]},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ xs=~ ","line":"69","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}frac","slot":"3"}]},{"N":"str","val":"875"}]},{"N":"fn","name":"concat","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ xs=~ ","role":"select","line":"70","C":[{"N":"check","card":"?","diag":"undefined|0||concat","C":[{"N":"data","diag":"undefined|0||concat","C":[{"N":"varRef","name":"Q{}whole","slot":"2"}]}]},{"N":"str","val":" ⅞"}]},{"N":"true"},{"N":"varRef","name":"Q{}q","slot":"1","sType":"*","ns":"= xml=~ fn=~ xsl=~ xs=~ ","role":"select","line":"73"}]}]}]}]}]}]}]},{"N":"co","binds":"","id":"3","vis":"PRIVATE","ex:uniform":"true","C":[{"N":"function","name":"Q{https://nwalsh.com/ns/functions}convert","as":"1AS ","slots":"203","ns":"xml=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ =http://www.w3.org/1999/xhtml map=~ f=https://nwalsh.com/ns/functions","module":"ex13.xsl","baseUri":"file:///Volumes/Saxonica/src/examples/SaxonJS-Tutorial-2021/answers/ex13/ex13.xsl","flags":"muu","sig":"1F r[1AS ] a[1AO ,1AO ,1AS ] ","sType":"1F r[1AS ] a[1AO ,1AO ,1AS ] ","line":"171","C":[{"N":"arg","slot":"0","name":"Q{}quantity","as":"AO ","sType":"AO "},{"N":"arg","slot":"1","name":"Q{}factor","as":"AO ","sType":"AO "},{"N":"arg","slot":"2","name":"Q{}units","as":"AS ","sType":"AS "},{"N":"check","card":"1","sType":"1AS ","diag":"2|0|XTTE0780|function Q{https://nwalsh.com/ns/functions}convert()","role":"body","C":[{"N":"let","var":"Q{}number","slot":"3","sType":"*AS ","line":"176","role":"body","C":[{"N":"check","card":"1","sType":"1AS ","diag":"2|0|XTTE0570|xsl:variable name=\"Q{}number\"","C":[{"N":"choose","sType":"?AS ","type":"item()*","line":"177","C":[{"N":"or","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","line":"178","C":[{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}units","slot":"2"}]},{"N":"str","val":"ml"}]},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}units","slot":"2"}]},{"N":"str","val":"g"}]}]},{"N":"fn","name":"string","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"179","C":[{"N":"check","card":"?","diag":"0|0||string","C":[{"N":"cast","flags":"ae","as":"ADILI","C":[{"N":"fn","name":"round","C":[{"N":"treat","as":"A m[AO,AD,AF]","diag":"0|0||round","C":[{"N":"check","card":"?","diag":"0|0||round","C":[{"N":"cvUntyped","to":"AO","diag":"0|0||round","C":[{"N":"arith","op":"*","calc":"a*a","C":[{"N":"check","card":"?","diag":"1|0||arith","C":[{"N":"data","diag":"1|0||arith","C":[{"N":"varRef","name":"Q{}quantity","slot":"0"}]}]},{"N":"check","card":"?","diag":"1|1||arith","C":[{"N":"data","diag":"1|1||arith","C":[{"N":"varRef","name":"Q{}factor","slot":"1"}]}]}]}]}]}]}]}]}]}]},{"N":"true"},{"N":"fn","name":"format-number","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"182","C":[{"N":"treat","as":"A m[AO,AD,AF]","diag":"0|0||format-number","C":[{"N":"check","card":"?","diag":"0|0||format-number","C":[{"N":"cvUntyped","to":"AO","diag":"0|0||format-number","C":[{"N":"arith","op":"*","calc":"a*a","C":[{"N":"check","card":"?","diag":"1|0||arith","C":[{"N":"data","diag":"1|0||arith","C":[{"N":"varRef","name":"Q{}quantity","slot":"0"}]}]},{"N":"check","card":"?","diag":"1|1||arith","C":[{"N":"data","diag":"1|1||arith","C":[{"N":"varRef","name":"Q{}factor","slot":"1"}]}]}]}]}]}]},{"N":"str","val":"#0.0"}]}]}]},{"N":"fn","name":"concat","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"187","C":[{"N":"check","card":"?","diag":"undefined|0||concat","C":[{"N":"data","diag":"undefined|0||concat","C":[{"N":"varRef","name":"Q{}number","slot":"3"}]}]},{"N":"check","card":"?","diag":"undefined|1||concat","C":[{"N":"data","diag":"undefined|1||concat","C":[{"N":"varRef","name":"Q{}units","slot":"2"}]}]}]}]}]}]}]},{"N":"co","binds":"","id":"4","vis":"PUBLIC","ex:uniform":"true","C":[{"N":"globalVariable","name":"Q{}CONVERT","ns":"xml=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ =http://www.w3.org/1999/xhtml map=~ f=https://nwalsh.com/ns/functions","module":"ex13.xsl","slots":"200","sType":"1AS","baseUri":"file:///Volumes/Saxonica/src/examples/SaxonJS-Tutorial-2021/answers/ex13/ex13.xsl","C":[{"N":"str","val":"http://localhost:9000/lib/conversions.json","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"21"}]}]},{"N":"co","id":"5","binds":"5","C":[{"N":"mode","onNo":"SC","flags":"","patternSlots":"0","prec":"","C":[{"N":"templateRule","rank":"0","prec":"1","seq":"4","ns":"xml=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ =http://www.w3.org/1999/xhtml map=~ f=https://nwalsh.com/ns/functions","minImp":"0","flags":"s","slots":"200","baseUri":"file:///Volumes/Saxonica/src/examples/SaxonJS-Tutorial-2021/answers/ex13/ex13.xsl","line":"93","module":"ex13.xsl","expand-text":"false","match":"div[@id='directions']","prio":"0.5","matches":"NE u[NE nQ{}div,NE nQ{http://www.w3.org/1999/xhtml}div]","C":[{"N":"p.withPredicate","role":"match","sType":"1NE u[NE nQ{}div,NE nQ{http://www.w3.org/1999/xhtml}div]","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","C":[{"N":"p.nodeTest","test":"NE u[NE nQ{}div,NE nQ{http://www.w3.org/1999/xhtml}div]"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"attVal","name":"Q{}id"},{"N":"str","val":"directions"}]}]},{"N":"copy","sType":"1NE u[1NE nQ{}div ,1NE nQ{http://www.w3.org/1999/xhtml}div ] ","flags":"cin","role":"action","line":"94","C":[{"N":"sequence","sType":"* ","C":[{"N":"applyT","sType":"* ","line":"95","mode":"#unnamed","bSlot":"0","C":[{"N":"axis","name":"attribute","nodeTest":"*NA","sType":"*NA","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"95"}]},{"N":"elem","name":"h2","sType":"1NE nQ{http://www.w3.org/1999/xhtml}h2 ","nsuri":"http://www.w3.org/1999/xhtml","namespaces":"","line":"96","C":[{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"Directions"}]}]},{"N":"applyT","sType":"* ","line":"97","mode":"#unnamed","bSlot":"0","C":[{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]","sType":"*N u[NT,NP,NC,NE]","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"97"}]}]}]}]},{"N":"templateRule","rank":"1","prec":"1","seq":"3","ns":"xml=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ =http://www.w3.org/1999/xhtml map=~ f=https://nwalsh.com/ns/functions","minImp":"0","flags":"s","slots":"200","baseUri":"file:///Volumes/Saxonica/src/examples/SaxonJS-Tutorial-2021/answers/ex13/ex13.xsl","line":"85","module":"ex13.xsl","expand-text":"false","match":"div[@id='ingredients']","prio":"0.5","matches":"NE u[NE nQ{}div,NE nQ{http://www.w3.org/1999/xhtml}div]","C":[{"N":"p.withPredicate","role":"match","sType":"1NE u[NE nQ{}div,NE nQ{http://www.w3.org/1999/xhtml}div]","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","C":[{"N":"p.nodeTest","test":"NE u[NE nQ{}div,NE nQ{http://www.w3.org/1999/xhtml}div]"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"attVal","name":"Q{}id"},{"N":"str","val":"ingredients"}]}]},{"N":"copy","sType":"1NE u[1NE nQ{}div ,1NE nQ{http://www.w3.org/1999/xhtml}div ] ","flags":"cin","role":"action","line":"86","C":[{"N":"sequence","sType":"* ","C":[{"N":"applyT","sType":"* ","line":"87","mode":"#unnamed","bSlot":"0","C":[{"N":"axis","name":"attribute","nodeTest":"*NA","sType":"*NA","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"87"}]},{"N":"elem","name":"h2","sType":"1NE nQ{http://www.w3.org/1999/xhtml}h2 ","nsuri":"http://www.w3.org/1999/xhtml","namespaces":"","line":"88","C":[{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"Ingredients"}]}]},{"N":"applyT","sType":"* ","line":"89","mode":"#unnamed","bSlot":"0","C":[{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]","sType":"*N u[NT,NP,NC,NE]","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"89"}]}]}]}]},{"N":"templateRule","rank":"2","prec":"1","seq":"0","ns":"xml=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ =http://www.w3.org/1999/xhtml map=~ f=https://nwalsh.com/ns/functions","minImp":"0","flags":"s","slots":"200","baseUri":"file:///Volumes/Saxonica/src/examples/SaxonJS-Tutorial-2021/answers/ex13/ex13.xsl","line":"33","module":"ex13.xsl","expand-text":"false","match":"main","prio":"0","matches":"NE u[NE nQ{}main,NE nQ{http://www.w3.org/1999/xhtml}main]","C":[{"N":"p.nodeTest","role":"match","test":"NE u[NE nQ{}main,NE nQ{http://www.w3.org/1999/xhtml}main]","sType":"1NE u[NE nQ{}main,NE nQ{http://www.w3.org/1999/xhtml}main]","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions "},{"N":"sequence","role":"action","sType":"* ","C":[{"N":"elem","name":"h1","sType":"1NE nQ{http://www.w3.org/1999/xhtml}h1 ","nsuri":"http://www.w3.org/1999/xhtml","namespaces":"","line":"34","C":[{"N":"fn","name":"string","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"3","C":[{"N":"check","card":"?","diag":"0|0||string","C":[{"N":"docOrder","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"root"},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}html,NE nQ{http://www.w3.org/1999/xhtml}html]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}head,NE nQ{http://www.w3.org/1999/xhtml}head]"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}title,NE nQ{http://www.w3.org/1999/xhtml}title]"}]}]}]}]}]},{"N":"applyT","sType":"* ","line":"35","mode":"#unnamed","bSlot":"0","C":[{"N":"axis","name":"child","nodeTest":"*N u[NT,NP,NC,NE]","sType":"*N u[NT,NP,NC,NE]","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"35"}]}]}]}]}]},{"N":"co","binds":"","id":"6","C":[{"N":"mode","onNo":"TC","flags":"","patternSlots":"0","name":"Q{}interactive","prec":"","C":[{"N":"templateRule","rank":"0","prec":"1","seq":"1","ns":"xml=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ =http://www.w3.org/1999/xhtml map=~ f=https://nwalsh.com/ns/functions","minImp":"0","flags":"s","slots":"200","baseUri":"file:///Volumes/Saxonica/src/examples/SaxonJS-Tutorial-2021/answers/ex13/ex13.xsl","line":"45","module":"ex13.xsl","expand-text":"false","match":"span[@id='serves']","prio":"0.5","matches":"NE u[NE nQ{}span,NE nQ{http://www.w3.org/1999/xhtml}span]","C":[{"N":"p.withPredicate","role":"match","sType":"1NE u[NE nQ{}span,NE nQ{http://www.w3.org/1999/xhtml}span]","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","C":[{"N":"p.nodeTest","test":"NE u[NE nQ{}span,NE nQ{http://www.w3.org/1999/xhtml}span]"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"attVal","name":"Q{}id"},{"N":"str","val":"serves"}]}]},{"N":"let","var":"Q{}default","slot":"0","sType":"*N ","line":"46","role":"action","C":[{"N":"cast","flags":"ae","as":"ADILI","sType":"*","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"46","C":[{"N":"atomSing","diag":"0|0||xs:int","card":"?","C":[{"N":"dot"}]}]},{"N":"let","var":"Q{}servings","slot":"1","sType":"*N ","line":"47","C":[{"N":"fn","name":"distinct-values","sType":"*A","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"47","C":[{"N":"data","diag":"0|0||distinct-values","C":[{"N":"sequence","C":[{"N":"varRef","name":"Q{}default","slot":"0"},{"N":"int","val":"1"},{"N":"int","val":"2"},{"N":"int","val":"4"},{"N":"int","val":"6"},{"N":"int","val":"8"}]}]},{"N":"str","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint"}]},{"N":"sequence","sType":"?N ","C":[{"N":"elem","name":"select","sType":"1NE nQ{http://www.w3.org/1999/xhtml}select ","nsuri":"http://www.w3.org/1999/xhtml","namespaces":"","line":"48","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"id","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"serves"}]},{"N":"att","name":"x-base","nsuri":"","sType":"1NA ","C":[{"N":"fn","name":"string-join","sType":"1AS ","C":[{"N":"convert","type":"AS*","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","sType":"*","C":[{"N":"varRef","name":"Q{}default","slot":"0","sType":"*","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","line":"48"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"forEach","sType":"*NE nQ{http://www.w3.org/1999/xhtml}option ","line":"49","C":[{"N":"varRef","name":"Q{}servings","slot":"1","sType":"*","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"49"},{"N":"elem","name":"option","sType":"1NE nQ{http://www.w3.org/1999/xhtml}option ","nsuri":"http://www.w3.org/1999/xhtml","namespaces":"","line":"50","C":[{"N":"sequence","sType":"* ","C":[{"N":"att","name":"value","nsuri":"","sType":"1NA ","C":[{"N":"fn","name":"string-join","sType":"1AS ","C":[{"N":"convert","type":"AS*","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","sType":"1","C":[{"N":"dot","sType":"1","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","line":"50"}]}]}]},{"N":"str","sType":"1AS ","val":" "}]}]},{"N":"choose","sType":"? ","line":"51","C":[{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","line":"51","C":[{"N":"atomSing","diag":"1|0||gc","card":"?","C":[{"N":"dot"}]},{"N":"data","diag":"1|1||gc","C":[{"N":"varRef","name":"Q{}default","slot":"0"}]}]},{"N":"att","name":"selected","sType":"1NA ","line":"52","C":[{"N":"str","role":"select","val":"selected","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","line":"52"}]},{"N":"true"},{"N":"empty","sType":"0 "}]},{"N":"dot","sType":"1","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"54"}]}]}]}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":" "}]},{"N":"elem","name":"select","sType":"1NE nQ{http://www.w3.org/1999/xhtml}select ","nsuri":"http://www.w3.org/1999/xhtml","namespaces":"","line":"59","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"id","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"units"}]},{"N":"elem","name":"option","sType":"1NE nQ{http://www.w3.org/1999/xhtml}option ","nsuri":"http://www.w3.org/1999/xhtml","namespaces":"","line":"60","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"value","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"imperial"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"imperial units"}]}]}]},{"N":"elem","name":"option","sType":"1NE nQ{http://www.w3.org/1999/xhtml}option ","nsuri":"http://www.w3.org/1999/xhtml","namespaces":"","line":"61","C":[{"N":"sequence","sType":"*N ","C":[{"N":"att","name":"value","nsuri":"","sType":"1NA ","C":[{"N":"str","sType":"1AS ","val":"metric"}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":"metric units"}]}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"7","binds":"8","C":[{"N":"mode","onNo":"TC","flags":"","patternSlots":"0","name":"Q{http://saxonica.com/ns/interactiveXSLT}onchange","prec":"","C":[{"N":"templateRule","rank":"0","prec":"1","seq":"2","ns":"xml=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ =http://www.w3.org/1999/xhtml map=~ f=https://nwalsh.com/ns/functions","minImp":"0","flags":"s","slots":"200","baseUri":"file:///Volumes/Saxonica/src/examples/SaxonJS-Tutorial-2021/answers/ex13/ex13.xsl","line":"65","module":"ex13.xsl","expand-text":"false","match":"select","prio":"0","matches":"NE u[NE nQ{}select,NE nQ{http://www.w3.org/1999/xhtml}select]","C":[{"N":"p.nodeTest","role":"match","test":"NE u[NE nQ{}select,NE nQ{http://www.w3.org/1999/xhtml}select]","sType":"1NE u[NE nQ{}select,NE nQ{http://www.w3.org/1999/xhtml}select]","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions "},{"N":"let","var":"Q{}qselect","slot":"0","sType":"* ","line":"66","role":"action","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"66","C":[{"N":"docOrder","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"ifCall","name":"Q{http://saxonica.com/ns/interactiveXSLT}page"},{"N":"axis","name":"descendant-or-self","nodeTest":"*N"}]},{"N":"filter","C":[{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}select,NE nQ{http://www.w3.org/1999/xhtml}select]"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"attVal","name":"Q{}id"},{"N":"str","val":"serves"}]}]}]}]}]},{"N":"let","var":"Q{}uselect","slot":"1","sType":"* ","line":"67","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"67","C":[{"N":"docOrder","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"ifCall","name":"Q{http://saxonica.com/ns/interactiveXSLT}page"},{"N":"axis","name":"descendant-or-self","nodeTest":"*N"}]},{"N":"filter","C":[{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}select,NE nQ{http://www.w3.org/1999/xhtml}select]"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"attVal","name":"Q{}id"},{"N":"str","val":"units"}]}]}]}]}]},{"N":"let","var":"Q{}qpos","slot":"2","sType":"* ","line":"69","C":[{"N":"arith","op":"+","calc":"a+a","sType":"?A","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"69","C":[{"N":"check","card":"?","diag":"1|0||arith","C":[{"N":"data","diag":"1|0||arith","C":[{"N":"ifCall","name":"Q{http://saxonica.com/ns/interactiveXSLT}get","C":[{"N":"check","card":"1","diag":"0|0||ixsl:get","C":[{"N":"varRef","name":"Q{}qselect","slot":"0"}]},{"N":"str","val":"selectedIndex"}]}]}]},{"N":"int","val":"1"}]},{"N":"let","var":"Q{}upos","slot":"3","sType":"* ","line":"70","C":[{"N":"arith","op":"+","calc":"a+a","sType":"?A","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"70","C":[{"N":"check","card":"?","diag":"1|0||arith","C":[{"N":"data","diag":"1|0||arith","C":[{"N":"ifCall","name":"Q{http://saxonica.com/ns/interactiveXSLT}get","C":[{"N":"check","card":"1","diag":"0|0||ixsl:get","C":[{"N":"varRef","name":"Q{}uselect","slot":"1"}]},{"N":"str","val":"selectedIndex"}]}]}]},{"N":"int","val":"1"}]},{"N":"let","var":"Q{}base-servings","slot":"4","sType":"* ","line":"73","C":[{"N":"cast","flags":"ae","as":"AD","sType":"*","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"73","C":[{"N":"check","card":"?","diag":"0|0||xs:decimal","C":[{"N":"data","diag":"0|0||xs:decimal","C":[{"N":"docOrder","C":[{"N":"slash","op":"/","C":[{"N":"treat","as":"N","diag":"1|0|XPTY0019|slash","C":[{"N":"varRef","name":"Q{}qselect","slot":"0"}]},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}x-base"}]}]}]}]}]},{"N":"let","var":"Q{}servings","slot":"5","sType":"* ","line":"75","C":[{"N":"cast","flags":"ae","as":"AD","sType":"*","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"75","C":[{"N":"check","card":"?","diag":"0|0||xs:decimal","C":[{"N":"data","diag":"0|0||xs:decimal","C":[{"N":"docOrder","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"treat","as":"N","diag":"1|0|XPTY0019|slash","C":[{"N":"varRef","name":"Q{}qselect","slot":"0"}]},{"N":"filter","flags":"p","C":[{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}option,NE nQ{http://www.w3.org/1999/xhtml}option]"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"fn","name":"position"},{"N":"data","diag":"1|1||gc","C":[{"N":"varRef","name":"Q{}qpos","slot":"2"}]}]}]}]},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}value"}]}]}]}]}]},{"N":"let","var":"Q{}units","slot":"6","sType":"* ","line":"77","C":[{"N":"slash","op":"/","sType":"*AS","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"77","C":[{"N":"docOrder","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"treat","as":"N","diag":"1|0|XPTY0019|slash","C":[{"N":"varRef","name":"Q{}uselect","slot":"1"}]},{"N":"filter","flags":"p","C":[{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}option,NE nQ{http://www.w3.org/1999/xhtml}option]"},{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","C":[{"N":"fn","name":"position"},{"N":"data","diag":"1|1||gc","C":[{"N":"varRef","name":"Q{}upos","slot":"3"}]}]}]}]},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}value"}]}]},{"N":"fn","name":"string","C":[{"N":"dot"}]}]},{"N":"applyT","sType":"* ","line":"79","mode":"Q{}fix-servings","bSlot":"0","C":[{"N":"docOrder","sType":"*NE","role":"select","line":"79","C":[{"N":"docOrder","sType":"*NE","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","C":[{"N":"slash","op":"/","C":[{"N":"slash","op":"/","C":[{"N":"root"},{"N":"axis","name":"descendant-or-self","nodeTest":"*N"}]},{"N":"filter","C":[{"N":"axis","name":"child","nodeTest":"*NE"},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}x-quantity"}]}]}]}]},{"N":"withParam","name":"Q{}factor","slot":"0","sType":"?A","C":[{"N":"arith","op":"div","calc":"a/a","sType":"?A","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"80","C":[{"N":"check","card":"?","diag":"1|0||arith","C":[{"N":"data","diag":"1|0||arith","C":[{"N":"varRef","name":"Q{}servings","slot":"5"}]}]},{"N":"check","card":"?","diag":"1|1||arith","C":[{"N":"data","diag":"1|1||arith","C":[{"N":"varRef","name":"Q{}base-servings","slot":"4"}]}]}]}]},{"N":"withParam","name":"Q{}units","slot":"6","sType":"*","C":[{"N":"varRef","name":"Q{}units","slot":"6","sType":"*","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"81"}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"8","binds":"4 2 5 3","C":[{"N":"mode","onNo":"TC","flags":"","patternSlots":"0","name":"Q{}fix-servings","prec":"","C":[{"N":"templateRule","rank":"0","prec":"1","seq":"6","ns":"xml=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ =http://www.w3.org/1999/xhtml map=~ f=https://nwalsh.com/ns/functions","minImp":"0","flags":"s","slots":"200","baseUri":"file:///Volumes/Saxonica/src/examples/SaxonJS-Tutorial-2021/answers/ex13/ex13.xsl","line":"155","module":"ex13.xsl","expand-text":"false","match":"*[contains(., '°F') or contains(., '°C')]","prio":"10","matches":"NE","C":[{"N":"p.withPredicate","role":"match","sType":"1NE","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","C":[{"N":"p.nodeTest","test":"NE"},{"N":"or","C":[{"N":"fn","name":"contains","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||contains","C":[{"N":"atomSing","diag":"0|0||contains","card":"?","C":[{"N":"dot"}]}]},{"N":"str","val":"°F"},{"N":"str","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint"}]},{"N":"fn","name":"contains","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||contains","C":[{"N":"atomSing","diag":"0|0||contains","card":"?","C":[{"N":"dot"}]}]},{"N":"str","val":"°C"},{"N":"str","val":"http://www.w3.org/2005/xpath-functions/collation/codepoint"}]}]}]},{"N":"sequence","role":"action","sType":"* ","C":[{"N":"param","name":"Q{}units","slot":"0","sType":"AS ","as":"AS ","flags":"","line":"156","C":[{"N":"check","card":"1","sType":"1AS ","diag":"2|0|XTTE0570|xsl:param name=\"Q{}units\"","role":"select","C":[{"N":"treat","as":"AS ","diag":"2|0|XTTE0570|xsl:param name=\"Q{}units\"","role":"select","C":[{"N":"check","card":"1","diag":"2|0|XTTE0570|xsl:param name=\"Q{}units\"","role":"select","C":[{"N":"cvUntyped","to":"AS","sType":"*A ","diag":"2|0|XTTE0570|xsl:param name=\"Q{}units\"","role":"select","C":[{"N":"data","sType":"*A ","role":"select","C":[{"N":"empty","sType":"0 ","role":"select"}]}]}]}]}]},{"N":"check","card":"1","sType":"1AS ","diag":"2|1|XTTE0590|xsl:param name=\"Q{}units\"","role":"conversion","C":[{"N":"treat","as":"AS ","diag":"2|1|XTTE0590|xsl:param name=\"Q{}units\"","role":"conversion","C":[{"N":"check","card":"1","diag":"2|1|XTTE0590|xsl:param name=\"Q{}units\"","role":"conversion","C":[{"N":"cvUntyped","to":"AS","sType":"*A ","diag":"2|1|XTTE0590|xsl:param name=\"Q{}units\"","role":"conversion","C":[{"N":"data","sType":"*A ","role":"conversion","C":[{"N":"supplied","role":"conversion","slot":"0","sType":"* "}]}]}]}]}]}]},{"N":"resultDoc","sType":"0 ","line":"157","local":"method=Q{http://saxonica.com/ns/interactiveXSLT}replace-content\n","global":"encoding=utf-8\nhtml-version=5\nmethod=html\nindent=no\n","C":[{"N":"str","sType":"1AS ","val":"?.","role":"href"},{"N":"choose","sType":"*AS ","type":"item()*","role":"content","line":"158","C":[{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","line":"159","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}units","slot":"0"}]},{"N":"str","val":"imperial"}]},{"N":"fn","name":"concat","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"160","C":[{"N":"check","card":"?","diag":"undefined|0||concat","C":[{"N":"slash","op":"/","C":[{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}x-quantity"},{"N":"fn","name":"string","C":[{"N":"dot"}]}]}]},{"N":"str","val":" °F"}]},{"N":"true"},{"N":"let","var":"Q{}c","slot":"1","sType":"*AS ","line":"163","C":[{"N":"arith","op":"div","calc":"a/a","sType":"?A","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"163","C":[{"N":"arith","op":"*","calc":"a*a","C":[{"N":"arith","op":"-","calc":"a-a","C":[{"N":"check","card":"?","diag":"1|0||arith","C":[{"N":"data","diag":"1|0||arith","C":[{"N":"cast","flags":"ae","as":"AD","C":[{"N":"check","card":"?","diag":"0|0||xs:decimal","C":[{"N":"attVal","name":"Q{}x-quantity"}]}]}]}]},{"N":"dec","val":"32"}]},{"N":"dec","val":"5"}]},{"N":"dec","val":"9"}]},{"N":"let","var":"Q{}c","slot":"2","sType":"*AS ","line":"164","C":[{"N":"arith","op":"*","calc":"a*a","sType":"?A","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"164","C":[{"N":"fn","name":"floor","C":[{"N":"treat","as":"A m[AO,AD,AF]","diag":"0|0||floor","C":[{"N":"check","card":"?","diag":"0|0||floor","C":[{"N":"cvUntyped","to":"AO","diag":"0|0||floor","C":[{"N":"arith","op":"div","calc":"a/a","C":[{"N":"arith","op":"+","calc":"a+a","C":[{"N":"check","card":"?","diag":"1|0||arith","C":[{"N":"data","diag":"1|0||arith","C":[{"N":"varRef","name":"Q{}c","slot":"1"}]}]},{"N":"dec","val":"4"}]},{"N":"dec","val":"5"}]}]}]}]}]},{"N":"dec","val":"5"}]},{"N":"fn","name":"concat","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"165","C":[{"N":"check","card":"?","diag":"undefined|0||concat","C":[{"N":"data","diag":"undefined|0||concat","C":[{"N":"cast","flags":"ae","as":"ADILI","C":[{"N":"check","card":"?","diag":"0|0||xs:int","C":[{"N":"data","diag":"0|0||xs:int","C":[{"N":"varRef","name":"Q{}c","slot":"2"}]}]}]}]}]},{"N":"str","val":" °C"}]}]}]}]}]}]}]},{"N":"templateRule","rank":"1","prec":"1","seq":"5","ns":"xml=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ =http://www.w3.org/1999/xhtml map=~ f=https://nwalsh.com/ns/functions","minImp":"0","flags":"s","slots":"200","baseUri":"file:///Volumes/Saxonica/src/examples/SaxonJS-Tutorial-2021/answers/ex13/ex13.xsl","line":"103","module":"ex13.xsl","expand-text":"false","match":"*[@x-quantity]","prio":"0.5","matches":"NE","C":[{"N":"p.withPredicate","role":"match","sType":"1NE","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","C":[{"N":"p.nodeTest","test":"NE"},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}x-quantity"}]},{"N":"sequence","role":"action","sType":"* ","C":[{"N":"param","name":"Q{}factor","slot":"0","sType":"AO ","as":"AO ","flags":"","line":"104","C":[{"N":"check","card":"1","sType":"1AO ","diag":"2|0|XTTE0570|xsl:param name=\"Q{}factor\"","role":"select","C":[{"N":"convert","to":"AO","sType":"1AO ","diag":"2|0|XTTE0570|xsl:param name=\"Q{}factor\"","flags":"p","role":"select","C":[{"N":"cvUntyped","to":"AO","sType":"*A ","diag":"2|0|XTTE0570|xsl:param name=\"Q{}factor\"","role":"select","C":[{"N":"data","sType":"*A ","role":"select","C":[{"N":"empty","sType":"0 ","role":"select"}]}]}]}]},{"N":"check","card":"1","sType":"1AO ","diag":"2|1|XTTE0590|xsl:param name=\"Q{}factor\"","role":"conversion","C":[{"N":"convert","to":"AO","sType":"1AO ","diag":"2|1|XTTE0590|xsl:param name=\"Q{}factor\"","flags":"p","role":"conversion","C":[{"N":"cvUntyped","to":"AO","sType":"*A ","diag":"2|1|XTTE0590|xsl:param name=\"Q{}factor\"","role":"conversion","C":[{"N":"data","sType":"*A ","role":"conversion","C":[{"N":"supplied","role":"conversion","slot":"0","sType":"* "}]}]}]}]}]},{"N":"param","name":"Q{}units","slot":"1","sType":"AS ","as":"AS ","flags":"","line":"105","C":[{"N":"check","card":"1","sType":"1AS ","diag":"2|0|XTTE0570|xsl:param name=\"Q{}units\"","role":"select","C":[{"N":"treat","as":"AS ","diag":"2|0|XTTE0570|xsl:param name=\"Q{}units\"","role":"select","C":[{"N":"check","card":"1","diag":"2|0|XTTE0570|xsl:param name=\"Q{}units\"","role":"select","C":[{"N":"cvUntyped","to":"AS","sType":"*A ","diag":"2|0|XTTE0570|xsl:param name=\"Q{}units\"","role":"select","C":[{"N":"data","sType":"*A ","role":"select","C":[{"N":"empty","sType":"0 ","role":"select"}]}]}]}]}]},{"N":"check","card":"1","sType":"1AS ","diag":"2|1|XTTE0590|xsl:param name=\"Q{}units\"","role":"conversion","C":[{"N":"treat","as":"AS ","diag":"2|1|XTTE0590|xsl:param name=\"Q{}units\"","role":"conversion","C":[{"N":"check","card":"1","diag":"2|1|XTTE0590|xsl:param name=\"Q{}units\"","role":"conversion","C":[{"N":"cvUntyped","to":"AS","sType":"*A ","diag":"2|1|XTTE0590|xsl:param name=\"Q{}units\"","role":"conversion","C":[{"N":"data","sType":"*A ","role":"conversion","C":[{"N":"supplied","role":"conversion","slot":"1","sType":"* "}]}]}]}]}]}]},{"N":"let","var":"Q{}convert","slot":"2","sType":"* ","line":"107","C":[{"N":"fn","name":"json-doc","sType":"?","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"107","C":[{"N":"gVarRef","name":"Q{}CONVERT","bSlot":"0"}]},{"N":"let","var":"Q{}quantity","slot":"3","sType":"* ","line":"108","C":[{"N":"arith","op":"*","calc":"a*a","sType":"?A","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"108","C":[{"N":"cvUntyped","to":"AO","diag":"1|0|FORG0001|arith","C":[{"N":"check","card":"?","diag":"1|0||arith","C":[{"N":"attVal","name":"Q{}x-quantity"}]}]},{"N":"check","card":"?","diag":"1|1||arith","C":[{"N":"data","diag":"1|1||arith","C":[{"N":"varRef","name":"Q{}factor","slot":"0"}]}]}]},{"N":"resultDoc","sType":"0 ","line":"110","local":"method=Q{http://saxonica.com/ns/interactiveXSLT}replace-content\n","global":"encoding=utf-8\nhtml-version=5\nmethod=html\nindent=no\n","C":[{"N":"str","sType":"1AS ","val":"?.","role":"href"},{"N":"choose","sType":"* ","type":"item()*","role":"content","line":"111","C":[{"N":"gc","op":"=","comp":"GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint","card":"1:1","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","line":"112","C":[{"N":"data","diag":"1|0||gc","C":[{"N":"varRef","name":"Q{}units","slot":"1"}]},{"N":"str","val":"imperial"}]},{"N":"sequence","sType":"* ","C":[{"N":"callT","bSlot":"1","sType":"* ","name":"Q{}prettyprint-quantity","line":"113","C":[{"N":"withParam","name":"Q{}decimal","as":"xs:double","slot":"0","C":[{"N":"check","card":"1","sType":"1AO ","diag":"2|0|XTTE0590|withParam name=\"Q{}decimal\"","role":"select","C":[{"N":"convert","to":"AO","sType":"1AO ","diag":"2|0|XTTE0590|withParam name=\"Q{}decimal\"","flags":"p","role":"select","C":[{"N":"cvUntyped","to":"AO","sType":"*A ","diag":"2|0|XTTE0590|withParam name=\"Q{}decimal\"","role":"select","C":[{"N":"data","sType":"*A ","role":"select","C":[{"N":"varRef","name":"Q{}quantity","slot":"3","sType":"*","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"114"}]}]}]}]}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":" "}]},{"N":"slash","op":"/","sType":"*AS","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"117","C":[{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}x-units"},{"N":"fn","name":"string","C":[{"N":"dot"}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":" "}]},{"N":"applyT","sType":"* ","line":"119","mode":"#unnamed","bSlot":"2","C":[{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}span,NE nQ{http://www.w3.org/1999/xhtml}span]","sType":"*NE u[NE nQ{}span,NE nQ{http://www.w3.org/1999/xhtml}span]","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"119"}]}]},{"N":"true"},{"N":"let","var":"Q{}ing","slot":"4","sType":"* ","line":"122","C":[{"N":"first","sType":"?AS","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"122","C":[{"N":"sequence","C":[{"N":"slash","op":"/","C":[{"N":"first","C":[{"N":"sequence","C":[{"N":"slash","op":"/","C":[{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}span,NE nQ{http://www.w3.org/1999/xhtml}span]"},{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}class"}]},{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}span,NE nQ{http://www.w3.org/1999/xhtml}span]"}]}]},{"N":"fn","name":"string","C":[{"N":"dot"}]}]},{"N":"str","val":"*"}]}]},{"N":"let","var":"Q{}map","slot":"5","sType":"* ","line":"123","C":[{"N":"check","card":"?","sType":"?FM ","diag":"2|0|XTTE0570|xsl:variable name=\"Q{}map\"","C":[{"N":"treat","as":"FM ","diag":"2|0|XTTE0570|xsl:variable name=\"Q{}map\"","C":[{"N":"check","card":"?","diag":"2|0|XTTE0570|xsl:variable name=\"Q{}map\"","C":[{"N":"choose","sType":"* ","type":"item()*","line":"124","C":[{"N":"ifCall","name":"Q{http://www.w3.org/2005/xpath-functions/map}contains","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","line":"125","C":[{"N":"treat","as":"FM","diag":"0|0||map:contains","C":[{"N":"check","card":"1","diag":"0|0||map:contains","C":[{"N":"varRef","name":"Q{}convert","slot":"2"}]}]},{"N":"check","card":"1","diag":"0|1||map:contains","C":[{"N":"data","diag":"0|1||map:contains","C":[{"N":"varRef","name":"Q{}ing","slot":"4"}]}]}]},{"N":"ifCall","name":"Q{http://www.w3.org/2005/xpath-functions/map}get","sType":"*","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"126","C":[{"N":"treat","as":"FM","diag":"0|0||map:get","C":[{"N":"check","card":"1","diag":"0|0||map:get","C":[{"N":"varRef","name":"Q{}convert","slot":"2"}]}]},{"N":"check","card":"1","diag":"0|1||map:get","C":[{"N":"data","diag":"0|1||map:get","C":[{"N":"varRef","name":"Q{}ing","slot":"4"}]}]}]},{"N":"true"},{"N":"ifCall","name":"Q{http://www.w3.org/2005/xpath-functions/map}get","sType":"*","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"129","C":[{"N":"treat","as":"FM","diag":"0|0||map:get","C":[{"N":"check","card":"1","diag":"0|0||map:get","C":[{"N":"varRef","name":"Q{}convert","slot":"2"}]}]},{"N":"str","val":"*"}]}]}]}]}]},{"N":"sequence","sType":"* ","C":[{"N":"choose","sType":"* ","type":"item()*","line":"134","C":[{"N":"and","sType":"1AB","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","line":"135","C":[{"N":"axis","name":"attribute","nodeTest":"*NA nQ{}x-units"},{"N":"ifCall","name":"Q{http://www.w3.org/2005/xpath-functions/map}contains","C":[{"N":"treat","as":"FM","diag":"0|0||map:contains","C":[{"N":"check","card":"1","diag":"0|0||map:contains","C":[{"N":"varRef","name":"Q{}map","slot":"5"}]}]},{"N":"check","card":"1","diag":"0|1||map:contains","C":[{"N":"attVal","name":"Q{}x-units"}]}]}]},{"N":"let","var":"Q{}cmap","slot":"6","sType":"*AS ","line":"136","C":[{"N":"ifCall","name":"Q{http://www.w3.org/2005/xpath-functions/map}get","sType":"*","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"136","C":[{"N":"treat","as":"FM","diag":"0|0||map:get","C":[{"N":"check","card":"1","diag":"0|0||map:get","C":[{"N":"varRef","name":"Q{}map","slot":"5"}]}]},{"N":"check","card":"1","diag":"0|1||map:get","C":[{"N":"attVal","name":"Q{}x-units"}]}]},{"N":"ufCall","name":"Q{https://nwalsh.com/ns/functions}convert","coId":"3","sType":"1AS","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"137","bSlot":"3","C":[{"N":"convert","to":"AO","flags":"","C":[{"N":"cvUntyped","to":"AO","diag":"0|0||f:convert","C":[{"N":"check","card":"1","diag":"0|0||f:convert","C":[{"N":"data","diag":"0|0||f:convert","C":[{"N":"varRef","name":"Q{}quantity","slot":"3"}]}]}]}]},{"N":"convert","to":"AO","flags":"","C":[{"N":"cvUntyped","to":"AO","diag":"0|1||f:convert","C":[{"N":"check","card":"1","diag":"0|1||f:convert","C":[{"N":"data","diag":"0|1||f:convert","C":[{"N":"lookup","op":"?","C":[{"N":"treat","as":"F","diag":"1|0||lookup","C":[{"N":"varRef","name":"Q{}cmap","slot":"6"}]},{"N":"str","val":"factor"}]}]}]}]}]},{"N":"treat","as":"AS","diag":"0|2||f:convert","C":[{"N":"check","card":"1","diag":"0|2||f:convert","C":[{"N":"cvUntyped","to":"AS","diag":"0|2||f:convert","C":[{"N":"check","card":"1","diag":"0|2||f:convert","C":[{"N":"data","diag":"0|2||f:convert","C":[{"N":"lookup","op":"?","C":[{"N":"treat","as":"F","diag":"1|0||lookup","C":[{"N":"varRef","name":"Q{}cmap","slot":"6"}]},{"N":"str","val":"units"}]}]}]}]}]}]}]}]},{"N":"true"},{"N":"sequence","sType":"* ","C":[{"N":"callT","bSlot":"1","sType":"* ","name":"Q{}prettyprint-quantity","line":"140","C":[{"N":"withParam","name":"Q{}decimal","as":"xs:double","slot":"0","C":[{"N":"check","card":"1","sType":"1AO ","diag":"2|0|XTTE0590|withParam name=\"Q{}decimal\"","role":"select","C":[{"N":"convert","to":"AO","sType":"1AO ","diag":"2|0|XTTE0590|withParam name=\"Q{}decimal\"","flags":"p","role":"select","C":[{"N":"cvUntyped","to":"AO","sType":"*A ","diag":"2|0|XTTE0590|withParam name=\"Q{}decimal\"","role":"select","C":[{"N":"data","sType":"*A ","role":"select","C":[{"N":"varRef","name":"Q{}quantity","slot":"3","sType":"*","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"141"}]}]}]}]}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":" "}]},{"N":"valueOf","flags":"l","sType":"1NT ","line":"144","C":[{"N":"fn","name":"string-join","role":"select","C":[{"N":"forEach","sType":"*AS ","C":[{"N":"data","sType":"*A ","C":[{"N":"mergeAdj","C":[{"N":"axis","sType":"*NA nQ{}x-units","name":"attribute","nodeTest":"*NA nQ{}x-units","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"144"}]}]},{"N":"fn","name":"string","sType":"1AS ","C":[{"N":"dot"}]}]},{"N":"str","sType":"1AS ","val":" "}]}]}]}]},{"N":"valueOf","sType":"1NT ","C":[{"N":"str","sType":"1AS ","val":" "}]},{"N":"applyT","sType":"* ","line":"148","mode":"#unnamed","bSlot":"2","C":[{"N":"axis","name":"child","nodeTest":"*NE u[NE nQ{}span,NE nQ{http://www.w3.org/1999/xhtml}span]","sType":"*NE u[NE nQ{}span,NE nQ{http://www.w3.org/1999/xhtml}span]","ns":"= xml=~ fn=~ xsl=~ ixsl=~ h=http://www.w3.org/1999/xhtml js=~ saxon=~ xs=~ map=~ f=https://nwalsh.com/ns/functions ","role":"select","line":"148"}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"overridden"},{"N":"output","C":[{"N":"property","name":"Q{http://saxon.sf.net/}stylesheet-version","value":"30"},{"N":"property","name":"method","value":"html"},{"N":"property","name":"html-version","value":"5"},{"N":"property","name":"encoding","value":"utf-8"},{"N":"property","name":"indent","value":"no"}]},{"N":"decimalFormat"}],"Σ":"6240ed3c"}